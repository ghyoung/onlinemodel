# Cursor Rules 使用说明

本目录包含了为湖仓建模工具项目定制的 Cursor AI 开发规则，用于规范 AI 助手的开发行为，确保代码质量和项目一致性。

## 规则文件列表

### 1. 前端React开发规范 (`frontend-react.mdc`)
- **适用范围**: `code/frontend/**/*.{ts,tsx,js,jsx}`
- **主要内容**: React 组件开发、TypeScript 使用、状态管理、性能优化等
- **使用场景**: 前端组件开发、页面构建、状态管理实现

### 2. 后端Node.js开发规范 (`backend-node.mdc`)
- **适用范围**: `code/backend/**/*.{js,mjs}`
- **主要内容**: Node.js 开发、API 设计、数据库操作、安全规范等
- **使用场景**: 后端服务开发、API 接口实现、数据库操作

### 3. 项目架构和通用开发规范 (`project-architecture.mdc`)
- **适用范围**: `**/*` (全局)
- **主要内容**: 项目结构、命名规范、代码质量、版本控制等
- **使用场景**: 项目整体规划、代码规范制定、架构设计

### 4. 数据库设计和操作规范 (`database.mdc`)
- **适用范围**: `code/backend/**/*.{js,mjs}`, `**/*.sql`
- **主要内容**: 数据库设计、SQL 编写、性能优化、安全规范等
- **使用场景**: 数据库表设计、SQL 查询优化、数据库操作

### 5. API设计和接口规范 (`api-design.mdc`)
- **适用范围**: `code/backend/**/*.{js,mjs}`, `code/frontend/**/*.{ts,tsx}`
- **主要内容**: RESTful API 设计、接口规范、错误处理、文档要求等
- **使用场景**: API 接口设计、前后端接口对接、接口文档编写

### 6. 湖仓建模业务逻辑规范 (`lakehouse-business.mdc`)
- **适用范围**: `**/*` (全局)
- **主要内容**: 业务模块设计、数据建模、血缘关系、数据治理等
- **使用场景**: 业务逻辑实现、功能模块开发、业务规则制定

### 7. 启动脚本管理规范 (`startup-scripts.mdc`)
- **适用范围**: `**/*.bat`, `**/*.sh`, `**/*.js`, `**/start*.{bat,sh,js}`
- **主要内容**: 启动脚本统一管理、避免重复创建、功能分离等
- **使用场景**: 启动脚本创建和修改、环境配置管理

### 8. 全栈开发流程规范 (`fullstack-development.mdc`)
- **适用范围**: `**/*` (全局)
- **主要内容**: 前后端同步开发、接口先行原则、数据模型统一等
- **使用场景**: 功能模块开发、前后端协调、开发流程管理

### 9. 数据库设计和一致性规范 (`database.mdc`)
- **适用范围**: `**/*.sql`, `code/backend/**/*.{js,mjs}`, `code/frontend/**/*.{ts,tsx}`
- **主要内容**: 数据库设计、操作规范、前后端一致性、字段映射验证等
- **使用场景**: 数据库设计、前后端字段映射、数据模型同步、数据库操作

### 10. 文档管理规范 (`documentation.mdc`)
- **适用范围**: `**/*` (全局)
- **主要内容**: 文档存放路径、目录结构、命名规范、同步更新等
- **使用场景**: 文档创建、管理、维护、与代码同步

### 11. 脚本分类管理规范 (`script-management.mdc`)
- **适用范围**: `**/*.{js,mjs,bat,sh}`
- **主要内容**: 脚本分类、存放位置、调用方式、开发规范等
- **使用场景**: 脚本创建、分类管理、功能调用、维护更新

## 使用方法

### 1. 自动应用规则
- 大部分规则设置为 `alwaysApply: true`，会在相关文件类型上自动生效
- 规则会根据文件路径和扩展名自动匹配

### 2. 手动应用规则
- 在 Cursor 中，可以通过命令面板手动应用特定规则
- 使用 `@rule` 命令引用特定规则

### 3. 规则优先级
- 全局规则 (`project-architecture.mdc`) 优先级最高
- 特定模块规则会覆盖全局规则的相关部分
- 业务规则 (`lakehouse-business.mdc`) 提供业务层面的指导

## 规则更新和维护

### 1. 规则修改
- 修改规则文件后，需要重启 Cursor 或重新加载规则
- 建议在团队中统一规则版本

### 2. 规则扩展
- 可以根据项目发展需要添加新的规则文件
- 新规则应遵循现有的命名和格式规范

### 3. 规则验证
- 定期检查规则的有效性和实用性
- 收集团队反馈，优化规则内容

## 注意事项

1. **规则冲突**: 如果多个规则存在冲突，以更具体的规则为准
2. **性能影响**: 过多的规则可能影响 AI 响应速度，建议精简和优化
3. **团队协作**: 规则变更需要团队共识，避免频繁修改
4. **文档同步**: 规则变更后及时更新相关文档

## 问题解决方案

### 1. 启动脚本重复问题
- 使用 `startup-scripts.mdc` 规则
- 禁止创建新的启动脚本
- 在现有脚本中添加功能开关
- 使用命令行参数控制不同功能

### 2. 前后端不统一问题
- 使用 `fullstack-development.mdc` 规则
- 遵循接口先行原则
- 使用开发任务清单
- 定期同步开发进度

### 3. 数据库字段不一致问题
- 使用 `database.mdc` 规则
- 创建字段映射文档
- 使用TypeScript接口确保类型安全
- 定期进行一致性检查

### 4. 文档管理混乱问题
- 使用 `documentation.mdc` 规则
- 所有文档统一放在 `doc/` 目录下
- 使用清晰的目录结构分类文档
- 代码变更后立即更新相关文档

## 常见问题

### Q: 规则不生效怎么办？
A: 检查文件路径匹配、重启 Cursor、确认规则格式正确

### Q: 如何添加自定义规则？
A: 创建新的 `.mdc` 文件，遵循现有格式，设置合适的 `globs` 和 `alwaysApply`

### Q: 规则太多会影响开发效率吗？
A: 合理设置的规则会提高代码质量，建议根据实际需要调整规则数量和复杂度
