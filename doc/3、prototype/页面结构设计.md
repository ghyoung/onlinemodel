# 湖仓建模工具页面结构设计

## 1. 整体页面架构

### 1.1 页面层级结构
```
├── 登录页面 (Login)
├── 主应用 (MainApp)
│   ├── 顶部导航栏 (Header)
│   ├── 侧边菜单栏 (Sidebar)
│   └── 主内容区 (MainContent)
│       ├── 仪表板 (Dashboard)
│       ├── 模型管理 (ModelManagement)
│       │   ├── 新增/编辑模型（弹窗/抽屉/页面，内嵌在线建模）
│       │   ├── 导入DDL（弹窗/抽屉/页面，内嵌DDL导入）
│       ├── 血缘关系 (Lineage)
│       ├── 标准字段库 (FieldLibrary)
│       ├── 数据治理 (DataGovernance)
│       ├── 文档管理 (DocumentManagement)
│       └── 系统设置 (SystemSettings)
└── 错误页面 (Error)
```

### 1.2 导航结构
- **一级导航**：顶部导航栏，包含Logo、全局搜索框、用户信息
- **二级导航**：侧边菜单栏，包含主要功能模块（不再包含“在线建模”“DDL导入”）
- **三级导航**：面包屑导航，显示当前页面位置
- **快捷导航**：页面内的标签页或分组导航

## 2. 核心页面设计

### 2.1 登录页面 (Login)
**功能**：用户身份验证和系统登录
**布局**：居中卡片式布局
**组件**：
- 系统Logo和标题
- 用户名/邮箱输入框
- 密码输入框
- 记住密码复选框
- 登录按钮
- 忘记密码链接
- 注册账号链接

### 2.2 仪表板 (Dashboard)
**功能**：系统概览和关键指标展示
**布局**：网格卡片式布局
**组件**：
- 统计卡片（表数量、字段数量、用户数量等）
- 最近活动列表
- 快速操作按钮
- 系统状态监控
- 数据质量概览

### 2.3 在线建模 (OnlineModeling)
**入口**：不再作为独立菜单，仅在“模型管理”页面点击“新增模型”或“编辑模型”时以弹窗/抽屉/页面方式展示。
**功能**：提供类似飞书在线表格的建模体验
**布局**：全屏表格编辑器
**组件**：
- 工具栏（保存、撤销、重做、导入、导出）
- 表结构编辑器（表名、描述、分区等）
- 字段编辑器（字段名、类型、约束等）
- 关系编辑器（主键、外键、索引等）
- 实时协作状态指示器

### 2.4 DDL导入 (DDLImport)
**入口**：不再作为独立菜单，仅在“模型管理”页面点击“导入”按钮时以弹窗/抽屉/页面方式展示。
**功能**：支持快速导入现有数仓的DDL语句
**布局**：分步骤向导式布局
**组件**：
- 步骤指示器（连接配置→表选择→导入配置→执行导入）
- 数据库连接配置表单
- 表列表展示和勾选
- 导入配置选项
- 导入进度监控
- 导入结果展示

### 2.5 模型管理 (ModelManagement)
**功能**：管理已创建的模型和表结构，作为“在线建模”“DDL导入”的主入口。
**布局**：列表+详情布局，内容区域自适应撑满屏幕，减少空白，提升信息密度。
**组件**：
- 模型列表（表格形式，撑满主内容区）
- 搜索和筛选器
- 模型详情面板
- 版本管理
- 导出功能
- 新增/编辑模型按钮（触发在线建模弹窗/页面）
- 导入按钮（触发DDL导入弹窗/页面）

### 2.6 血缘关系 (Lineage)
**功能**：可视化展示模型血缘关系
**布局**：全屏图形展示
**组件**：
- 血缘图画布
- 工具栏（缩放、拖拽、搜索、筛选）
- 血缘深度控制
- 节点详情面板
- 血缘路径追踪

### 2.7 标准字段库 (FieldLibrary)
**功能**：维护标准化的字段定义库
**布局**：分类+列表布局
**组件**：
- 字段分类树
- 字段列表（表格形式）
- 字段详情面板
- 搜索和筛选
- 字段推荐

### 2.8 数据治理 (DataGovernance)
**功能**：提供智能化的数据治理能力
**布局**：仪表板+列表布局
**组件**：
- 治理概览仪表板
- 规则配置
- 执行结果列表
- 质量报告
- 治理建议

### 2.9 文档管理 (DocumentManagement)
**功能**：管理建模文档和协作
**布局**：文档树+编辑器布局
**组件**：
- 文档树导航
- 文档编辑器
- 版本历史
- 协作状态
- 评论系统

### 2.10 系统设置 (SystemSettings)
**功能**：系统配置和用户管理
**布局**：标签页布局
**组件**：
- 用户管理
- 权限配置
- 系统配置
- 数据源管理
- 日志查看

## 3. 页面交互设计

### 3.1 页面跳转
- **主菜单跳转**：点击侧边菜单项，切换主内容区（不再包含“在线建模”“DDL导入”菜单项）
- **面包屑跳转**：点击面包屑导航，快速返回上级页面
- **快捷操作跳转**：通过按钮、链接等快速跳转
- **返回操作**：支持浏览器后退、ESC键返回

### 3.2 状态管理
- **页面状态**：当前页面、选中项、展开状态等
- **数据状态**：加载中、成功、失败、空数据等
- **用户状态**：登录状态、权限状态、偏好设置等
- **系统状态**：网络状态、服务状态、错误状态等

### 3.3 响应式适配
- **桌面端**：完整功能，多列布局
- **平板端**：侧边栏可折叠，保持核心功能
- **移动端**：简化布局，重点功能优先

## 4. 页面组件复用

### 4.1 通用组件
- **Header**：顶部导航栏，所有页面共用，包含Logo、全局搜索框、用户信息
- **Sidebar**：侧边菜单栏，主应用页面共用
- **Breadcrumb**：面包屑导航，支持动态生成
- **SearchBox**：全局搜索框，支持模型、表、字段、文档等内容的快速检索，位于Header区域
- **StatusBar**：状态栏，显示系统状态

### 4.2 业务组件
- **TableEditor**：表格编辑器，在线建模页面使用
- **LineageGraph**：血缘图组件，血缘关系页面使用
- **FieldSelector**：字段选择器，建模页面使用
- **ImportWizard**：导入向导，DDL导入页面使用
- **ModelViewer**：模型查看器，模型管理页面使用

### 4.3 布局组件
- **PageContainer**：页面容器，提供统一的页面布局
- **Card**：卡片容器，用于内容分组
- **Panel**：面板容器，用于侧边内容展示
- **Modal**：模态框，用于弹窗操作
- **Drawer**：抽屉，用于侧边内容展示

## 5. 页面性能优化

### 5.1 加载优化
- **懒加载**：按需加载页面组件
- **预加载**：预加载常用页面
- **缓存策略**：合理使用浏览器缓存
- **代码分割**：按页面分割代码包

### 5.2 渲染优化
- **虚拟滚动**：大数据列表使用虚拟滚动
- **防抖节流**：搜索、滚动等操作使用防抖节流
- **组件缓存**：合理使用React.memo等优化
- **状态优化**：避免不必要的状态更新

### 5.3 交互优化
- **骨架屏**：加载时显示骨架屏
- **进度指示**：长时间操作显示进度
- **错误边界**：捕获和处理页面错误
- **离线支持**：支持离线查看已加载内容

## 6. 全局搜索交互设计
### 6.1 入口位置
- Header区域Logo右侧，风格符合设计规范
### 6.2 交互流程
1. 点击搜索框/按钮，弹出全局搜索面板（支持快捷键如Ctrl+K）
2. 输入关键词，自动联想模型、表、字段、文档等
3. 搜索结果分组展示，支持键盘上下选择、回车跳转
4. 支持历史搜索、热词推荐
### 6.3 结果展示
- 分组（模型/表/字段/文档）
- 结果高亮、可点击跳转
- 支持无结果提示
